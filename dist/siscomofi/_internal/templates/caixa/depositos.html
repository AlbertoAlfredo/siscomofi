{% extends "caixa/menu_caixa_banco.html" %}


{% block forms %}

    
    <form action={{ "/caixabanco/depositos?id="+movimento.id|string }} method="POST">
        <div class="tab-content" id="nav-tabContent">
            <div
                    aria-labelledby="nav-pagamentos-tab"
                    class="tab-pane fade active show"
                    id="nav-pagamentos"
                    role="tabpanel"
                    tabindex="0"
            >
                <div class="row">
                    <div class="col">
                        {{ form.input_field(name="data_pagamento",
                            type='date', label='Data de pagamento', placeholder='', required='false', class='') }}
                    </div>
                    <div class="col">
                        {{ form.input_field(name="n_cheque",
                            type='number', label='N° do Cheque', placeholder='', class='') }}
                    </div>

                    <div class="col">
                        {{ form.input_field(name="valor_pagamento",
                            type='money', label='Valor Pgto', placeholder='',
                            class='') }}
                    </div>
                    <div class="row">
                        <div class="col">
                        {{ form.input_field(name="descricao_pagamento",
                            type='text', label='Descrição do pgto', placeholder='',
                            class='') }}
                    </div>
                    </div>
                </div>
                <div class="col">
                    <button class="btn btn-success" type="submit">
                        Adicionar
                    </button>
                </div>
                <hr/>
                <div class="row">
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th scope="col">Data Depósito</th>
                            <th scope="col">N° Cheque</th>
                            <th scope="col">Descrição</th>
                            <th scope="col">Valor</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for valor in depositos %}

                        <tr scope="row">
                            <td>{{ valor.data_pagamento.strftime('%d/%m/%Y') }}</td>
                            <td>{{ valor.n_cheque }}</td>
                            <td>{{ valor.descricao_pagamento }}</td>
                            <td>{{ "{:.2f}".format(valor.valor_pagamento | float) }}</td>
                            <td><a href="{{ url_for('caixa_bp.get_lancamentos_depositos', id=movimento.id, apagar=valor.id) }}"><button class="btn btn-danger" type="button">Apagar</button></a></td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </form>


{% endblock %}